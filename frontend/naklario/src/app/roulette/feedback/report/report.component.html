<div id="report-component">
  <button type="button" class="btn btn-danger" (click)="open()">
    Melden
  </button>

  <!-- Floating modal -->
  <div *ngIf="isOpen">
    <div class="d-flex justify-content-center align-items-center overlay">
      <div class="row">
        <div class="col">
          <!-- Can click outside or press esc to close modal. See (closeModal) Directive for details -->
          <div class="float-modal container px-3 py-3" (closeModal)="close()">
            <div class="row col">
              <h3>Diesen Sch체ler melden</h3>
            </div>
            <div class="row col">
              <p>
                Gab es ein Problem mit dem Sch체ler? Erz채hl uns was los war und
                wir k체mmern uns sofort darum.
              </p>
            </div>

            <form [formGroup]="form" (ngSubmit)="onSubmit()">
              <div class="row col form-group">
                <textarea
                  name="report-input"
                  rows="2"
                  placeholder="Worin bestand das Problem?"
                  formControlName="message"
                  class="form-control"
                ></textarea>
                <div class="invalid-feedback">
                  <div *ngIf="f.message.errors?.required">
                    Du musst ein Feedback angeben.
                  </div>
                </div>
              </div>

              <div class="row col form-group">
                <button
                  type="submit"
                  class="btn btn-primary"
                  [disabled]="submitSuccess || loading"
                >
                  <span
                    *ngIf="loading"
                    class="spinner-border spinner-border-sm mr-1"
                  ></span>
                  Absenden
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
